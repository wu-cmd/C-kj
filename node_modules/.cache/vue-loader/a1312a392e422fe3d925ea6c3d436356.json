{"remainingRequest":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\home\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\src\\views\\home\\Home.vue","mtime":1619405783049},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\桌面收纳盒\\codetext\\kjsuper\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTmF2QmFyIGZyb20gJ2NvbXBvbmVudHMvY29tbW9uL25hdmJhci9OYXZCYXInDQppbXBvcnQge2dldEhvbWVNdWx0aWRhdGF9IGZyb20gJ25ldHdvcmsvaG9tZScNCmltcG9ydCB7Z2V0SG9tZUdvb2RzfSBmcm9tICduZXR3b3JrL2hvbWUnDQppbXBvcnQgSG9tZVN3aXBlciBmcm9tICcuL2NoaWxkQ29tcHMvSG9tZVN3aXBlcicNCmltcG9ydCBIb21lUmVjb21tZW5kcyBmcm9tICcuL2NoaWxkQ29tcHMvSG9tZVJlY29tbWVuZHMnDQppbXBvcnQgVGhpc1dlZWsgZnJvbSAnLi9jaGlsZENvbXBzL1RoaXNXZWVrJw0KaW1wb3J0IFRhYkNvbnRyb2wgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9jb250ZW50L3RhYkNvbnRyb2wvVGFiQ29udHJvbCcNCmltcG9ydCBHb29kTGlzdCBmcm9tICcuLi8uLi9jb21wb25lbnRzL2NvbnRlbnQvZ29vZHMvR29vZHNMaXN0Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOidIb21lJywNCiAgY29tcG9uZW50czp7DQogICAgIE5hdkJhciwNCiAgICAgSG9tZVN3aXBlciwNCiAgICAgSG9tZVJlY29tbWVuZHMsDQogICAgIFRoaXNXZWVrLA0KICAgICBUYWJDb250cm9sLA0KICAgICBHb29kTGlzdA0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICByZXN1bHQ6bnVsbCwNCiAgICAgIGJhbm5lcnM6W10sDQogICAgICByZWNvbW1lbmRzOltdLA0KICAgICAgdGFiT2Zmc2VUb3A6MCwNCiAgICAgIHJlY29tbWVuZHM6W10sDQogICAgICBnb29kczp7DQogICAgICAgICdwb3AnOntwYWdlOjAsbGlzdDpbXX0sDQogICAgICAgICduZXcnOntwYWdlOjAsbGlzdDpbXX0sDQogICAgICAgICdzZWxsJzp7cGFnZTowLGxpc3Q6W119LA0KDQogICAgICB9LA0KICAgICAgY3VycmVudFR5cGU6J3BvcCcNCiAgICB9DQogIH0sDQogIC8vIOWjsOaYjuWRqOacn+WHveaVsCAg6aaW6aG15Yib5bu65a6M5oiQ5LmL5ZCOIOebtOaOpeinpuWPkQ0KICBjcmVhdGVkKCkgew0KICAgICAgIHRoaXMuZ2V0SG9tZU11bHRpZGF0YSgpDQoNCiAgICAgICB0aGlzLmdldEhvbWVHb29kcygncG9wJykNCiAgICAgICB0aGlzLmdldEhvbWVHb29kcygnbmV3JykNCiAgICAgICB0aGlzLmdldEhvbWVHb29kcygnc2VsbCcpDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICANCg0KDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAgdGFiQ2xpY2soaW5kZXgpeyAgIA0KICAgICAgLy8gY29uc29sZS5sb2coaW5kZXgpDQogICAgICBzd2l0Y2goaW5kZXgpew0KICAgICAgICBjYXNlIDA6DQogICAgICAgICAgdGhpcy5jdXJyZW50VHlwZSA9ICdwb3AnDQogICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRUeXBlID0gJ3BvcCcpDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSAxOg0KICAgICAgICAgIHRoaXMuY3VycmVudFR5cGUgPSAnbmV3cycNCiAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50VHlwZSA9ICduZXcnKQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgMjoNCiAgICAgICAgICB0aGlzLmN1cnJlbnRUeXBlID0gJ3NlbGwnDQogICAgICAgICAgY29uc29sZS5sb2codGhpcy5jdXJyZW50VHlwZSA9ICdzZWxsJykNCiAgICAgICAgICBicmVhaw0KICAgICAgfQ0KICAgICB9LA0KICAgLyoqIA0KICAgICog572R57uc6K+35rGC55u45YWz5pa55rOVDQogICAgKi8NCiAgICBnZXRIb21lTXVsdGlkYXRhKCl7DQogICAgICBnZXRIb21lTXVsdGlkYXRhKCkudGhlbihyZXMgPT4gew0KICAgICAgLy8g5bCG56uv5Y+j5pWw5o2u5a2Y5YWlIGRhdGHkuK3nmoRyZXN1bHTkuK0NCiAgICAgIHRoaXMucmVzdWx0ID0gcmVzDQogICAgICB0aGlzLmJhbm5lcnMgPSByZXMuZGF0YS5kYXRhLmJhbm5lci5saXN0Ow0KICAgICAgdGhpcy5yZWNvbW1lbmRzID0gcmVzLmRhdGEuZGF0YS5yZWNvbW1lbmQubGlzdDsNCiAgICB9KSANCiAgICB9LA0KDQoNCiAgICBnZXRIb21lR29vZHModHlwZSl7DQogICAgICBjb25zdCBwYWdlID0gdGhpcy5nb29kc1t0eXBlXS5wYWdlICsgMQ0KICANCiAgICAgIGdldEhvbWVHb29kcyh0eXBlLHBhZ2UpLnRoZW4ocmVzID0+IHsNCiAgICAgICANCiAgICAgIHRoaXMuZ29vZHNbdHlwZV0ubGlzdC5wdXNoKC4uLnJlcy5kYXRhLmRhdGEubGlzdCkNCiAgICAgIHRoaXMuZ29vZHNbdHlwZV0ucGFnZSArPTENCiAgICB9KQ0KICAgIH0sDQp9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgc2hvd0dvb2RzKCl7DQogICAgICAgIGNvbnNvbGUubG9nKCJhYWEiLHRoaXMuZ29vZHNbdGhpcy5jdXJyZW50VHlwZV0pDQogICAgICByZXR1cm4gdGhpcy5nb29kc1t0aGlzLmN1cnJlbnRUeXBlXS5saXN0DQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views/home","sourcesContent":["<template>\r\n  <div id=\"home\">\r\n    <nav-bar class=\"home-nav\"><div  slot=\"center\">购物街</div></nav-bar>\r\n     \r\n     <home-swiper :banners=\"banners\" ></home-swiper>\r\n      <home-recommends :recommends=\"recommends\"></home-recommends>\r\n      <this-week></this-week>\r\n      <tab-control :titles=\"['流行','新款','精选']\"  \r\n      @tabClick=\"tabClick\" \r\n      ></tab-control>\r\n      <good-list :goods=\"showGoods\" style=\"background-color: white;\"></good-list>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from 'components/common/navbar/NavBar'\r\nimport {getHomeMultidata} from 'network/home'\r\nimport {getHomeGoods} from 'network/home'\r\nimport HomeSwiper from './childComps/HomeSwiper'\r\nimport HomeRecommends from './childComps/HomeRecommends'\r\nimport ThisWeek from './childComps/ThisWeek'\r\nimport TabControl from '../../components/content/tabControl/TabControl'\r\nimport GoodList from '../../components/content/goods/GoodsList'\r\nexport default {\r\n  name:'Home',\r\n  components:{\r\n     NavBar,\r\n     HomeSwiper,\r\n     HomeRecommends,\r\n     ThisWeek,\r\n     TabControl,\r\n     GoodList\r\n  },\r\n  data() {\r\n    return {\r\n      result:null,\r\n      banners:[],\r\n      recommends:[],\r\n      tabOffseTop:0,\r\n      recommends:[],\r\n      goods:{\r\n        'pop':{page:0,list:[]},\r\n        'new':{page:0,list:[]},\r\n        'sell':{page:0,list:[]},\r\n\r\n      },\r\n      currentType:'pop'\r\n    }\r\n  },\r\n  // 声明周期函数  首页创建完成之后 直接触发\r\n  created() {\r\n       this.getHomeMultidata()\r\n\r\n       this.getHomeGoods('pop')\r\n       this.getHomeGoods('new')\r\n       this.getHomeGoods('sell')\r\n  },\r\n  mounted() {\r\n   \r\n\r\n\r\n  },\r\n  methods: {\r\n     tabClick(index){   \r\n      // console.log(index)\r\n      switch(index){\r\n        case 0:\r\n          this.currentType = 'pop'\r\n         console.log(this.currentType = 'pop')\r\n          break\r\n        case 1:\r\n          this.currentType = 'news'\r\n           console.log(this.currentType = 'new')\r\n          break\r\n        case 2:\r\n          this.currentType = 'sell'\r\n          console.log(this.currentType = 'sell')\r\n          break\r\n      }\r\n     },\r\n   /** \r\n    * 网络请求相关方法\r\n    */\r\n    getHomeMultidata(){\r\n      getHomeMultidata().then(res => {\r\n      // 将端口数据存入 data中的result中\r\n      this.result = res\r\n      this.banners = res.data.data.banner.list;\r\n      this.recommends = res.data.data.recommend.list;\r\n    }) \r\n    },\r\n\r\n\r\n    getHomeGoods(type){\r\n      const page = this.goods[type].page + 1\r\n  \r\n      getHomeGoods(type,page).then(res => {\r\n       \r\n      this.goods[type].list.push(...res.data.data.list)\r\n      this.goods[type].page +=1\r\n    })\r\n    },\r\n},\r\n    computed: {\r\n    showGoods(){\r\n        console.log(\"aaa\",this.goods[this.currentType])\r\n      return this.goods[this.currentType].list\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n\r\n\r\n<style scoped>\r\n/* scoped作用域 */\r\n.home-nav{\r\n  background-color: var(--color-tint);\r\n  color: white;\r\n\r\n  /* position: fixed;\r\n  left: 0;\r\n  right: 0;\r\n  top: 0;\r\n  z-index: 9; */\r\n\r\n}\r\n#home{\r\n  height: 100vh;\r\n}\r\n.tab-control{\r\n  /* 粘贴定位 */\r\n  position: sticky;\r\n  top:44px;\r\n  background-color: #fff;\r\n}\r\n.content{\r\n  height: calc(100% - 93px);\r\n  /* margin-top: 44px; */\r\n  /* height:100%; */\r\n  overflow: hidden;\r\n}\r\n.tabControlwk{\r\n  position:fixed;\r\n  z-index: 9;\r\n  right: 0;\r\n  left: 0;\r\n  background-color: white;\r\n}\r\n</style>"]}]}